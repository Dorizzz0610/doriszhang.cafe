(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return o}});let r=a(8229),s=a(8883),l=a(3063),n=r._(a(1193));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=l.Image},2129:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.t.bind(a,3063,23)),Promise.resolve().then(a.bind(a,3785)),Promise.resolve().then(a.bind(a,9362)),Promise.resolve().then(a.bind(a,5889)),Promise.resolve().then(a.bind(a,1798)),Promise.resolve().then(a.bind(a,2873)),Promise.resolve().then(a.bind(a,9073))},2873:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(5155),s=a(2115),l=a(6766);let n={url:"/images/space/galaxy.jpg",title:"The Wonders of the Universe",explanation:"The universe is filled with countless amazing celestial bodies, including stars, galaxies, and nebulae. Every day, we discover new beautiful scenes in the cosmos.",date:new Date().toISOString().split("T")[0],copyright:"Space Enthusiast"};function o(){var e;let[t,a]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null),[m,g]=(0,s.useState)(0),u=async()=>{try{i(!0),c(null);let e=await fetch("/api/nasa-apod");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let t=await e.json();a(t),i(!1)}catch(e){console.error("Error fetching space data:",e),m>=2?(console.log("Using fallback space data after multiple retries"),a(n),c(null)):(c(e.message),g(e=>e+1)),i(!1)}};return((0,s.useEffect)(()=>{u();let e=setInterval(u,864e5);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{d&&!t&&(console.log("Setting fallback space data due to error"),a(n))},[d,t]),o)?(0,r.jsxs)("div",{className:"modern-card p-6 hover:shadow-xl transition-all duration-500",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-purple-500",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Space Exploration"]}),(0,r.jsx)("div",{className:"flex justify-center items-center h-60",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})})]}):t?(0,r.jsxs)("div",{className:"modern-card p-6 hover:shadow-xl transition-all duration-500",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-purple-500",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Space Exploration"]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsx)("div",{className:"relative h-48 w-full overflow-hidden rounded-lg",children:(0,r.jsx)(l.default,{src:t.url,alt:t.title,fill:!0,className:"object-cover",unoptimized:!0})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-lg",children:t.title}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.date}),(0,r.jsx)("p",{className:"text-sm mt-2",children:(e=t.explanation,e.length<=150?e:e.substring(0,150)+"...")}),t.copyright&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["\xa9 ",t.copyright]})]}),d&&(0,r.jsx)("p",{className:"text-amber-500 text-xs mt-4 text-center",children:"Note: Using fallback data (API connection issue)"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-4 text-center",children:"Data source: NASA - Astronomy Picture of the Day"})]})]}):null}},3785:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(5155),s=a(2115),l=a(6766);let n=()=>{let[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)(0),[o,i]=(0,s.useState)(0),d=(0,s.useRef)(null),[c,m]=(0,s.useState)(null),[g,u]=(0,s.useState)({start:0,end:3}),h=[{image:"/images/avatar1.png",message:"Drumming to remind all my limbs they have jobs."},{image:"/images/avatar2.png",message:"Collecting travel plans (and a few too many souvenirs)."},{image:"/images/avatar3.png",message:"Negotiating peace treaties between my cat and parrots."},{image:"/images/avatar4.png",message:"On a mission to rate every bubble tea (those with tea+milk)."},{image:"/images/avatar5.png",message:"Juggling at least three windows on the screen."},{image:"/images/avatar6.png",message:'Serving cocktails that are "happy accidents".'},{image:"/images/avatar7.png",message:"Focusing on cardio as weightlifting remains a distant rumor."},{image:"/images/avatar8.png",message:"Terrible at gaming, but can be a master of virtual sightseeing."},{image:"/images/avatar9.png",message:"Browsing bookstores for the smell, not the stories."},{image:"/images/avatar10.png",message:"Sometimes I love popcorn more than the movie itself."},{image:"/images/avatar11.png",message:"Cycling only on streets with zero people."},{image:"/images/avatar12.png",message:"Dancing mostly to the rhythm of my laptop's playlist."},{image:"/images/avatar13.png",message:"Professional at trying on clothes, part-time at buying them."},{image:"/images/avatar14.png",message:"I take my best photos on other people's cameras."},{image:"/images/avatar15.png",message:"Sunglasses fan with even bringing extras for friends."},{image:"/images/avatar16.png",message:"An overqualified long-distance commuter."},{image:"/images/avatar17.png",message:"Learning how to take a nap on grass."},{image:"/images/avatar18.png",message:"Chatting with GPT to self-reflect (and confirm I'm not a robot)."}],x=()=>{if(!d.current)return;let e=d.current.clientWidth,t=Math.floor(d.current.scrollLeft/(e/4)),a=Math.min(t+3,h.length-1);u({start:t,end:a})},p=()=>{t(!1),x(),document.body.style.cursor="default"},f=e=>{c===e?m(null):m(e)},v=(e,t)=>{let a=e.scrollLeft,r=t-a,s=null,l=t=>{null===s&&(s=t);let n=t-s,o=Math.min(n/500,1);e.scrollLeft=a+r*(o<.5?4*o*o*o:1-Math.pow(-2*o+2,3)/2),n<500?requestAnimationFrame(l):x()};requestAnimationFrame(l)};return(0,s.useEffect)(()=>{let e=e=>{let t=e.target;null===c||t.closest(".avatar-item")||m(null)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[c]),(0,s.useEffect)(()=>{let a=()=>{t(!1),document.body.style.cursor="default"},r=()=>{e||x()};x();let s=d.current;return null==s||s.addEventListener("scroll",r),document.addEventListener("mouseup",p),document.addEventListener("mouseleave",a),()=>{null==s||s.removeEventListener("scroll",r),document.removeEventListener("mouseup",p),document.removeEventListener("mouseleave",a)}},[e]),(0,s.useEffect)(()=>{let e="hide-scrollbar-style";if(!document.getElementById(e)){let t=document.createElement("style");t.id=e,t.textContent="\n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        .avatar-bounce {\n          animation: avatar-float 5s ease-in-out infinite;\n        }\n        @keyframes avatar-float {\n          0% { transform: translateY(0px); }\n          50% { transform: translateY(-10px); }\n          100% { transform: translateY(0px); }\n        }\n        @keyframes avatar-spin {\n          0% { transform: rotate(-5deg); }\n          50% { transform: rotate(5deg); }\n          100% { transform: rotate(-5deg); }\n        }\n        .message-popup {\n          animation: fade-in 0.2s ease-out;\n        }\n        @keyframes fade-in {\n          0% { opacity: 0; transform: translateY(-5px); }\n          100% { opacity: 1; transform: translateY(0); }\n        }\n      ",document.head.appendChild(t)}return()=>{let t=document.getElementById(e);t&&t.remove()}},[]),(0,r.jsxs)("div",{className:"my-12 overflow-hidden flex flex-col items-center",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Different Versions"}),(0,r.jsx)("p",{className:"text-base md:text-lg text-gray-500 dark:text-gray-400 text-center mb-6",children:"← Swipe and click them! →"}),(0,r.jsxs)("div",{className:"relative w-full max-w-3xl mx-auto",children:[(0,r.jsx)("div",{ref:d,className:"flex gap-3 overflow-x-auto overflow-y-visible pb-24 pt-4 cursor-grab snap-x snap-mandatory hide-scrollbar",onMouseDown:e=>{d.current&&(t(!0),n(e.pageX-d.current.offsetLeft),i(d.current.scrollLeft),document.body.style.cursor="grabbing")},onMouseMove:t=>{if(!e||!d.current)return;t.preventDefault();let r=t.pageX-d.current.offsetLeft;d.current.scrollLeft=o-(r-a)*2.5},onMouseUp:p,onTouchStart:e=>{d.current&&(t(!0),n(e.touches[0].pageX-d.current.offsetLeft),i(d.current.scrollLeft))},onTouchMove:t=>{if(!e||!d.current)return;let r=t.touches[0].pageX-d.current.offsetLeft;d.current.scrollLeft=o-(r-a)*2.5},onTouchEnd:p,style:{scrollbarWidth:"none",msOverflowStyle:"none",scrollSnapType:"x mandatory",paddingLeft:"0",paddingRight:"0"},children:h.map((e,t)=>(0,r.jsxs)("div",{className:"avatar-item flex-shrink-0 relative transition-all duration-500 snap-center avatar-bounce",style:{width:"calc(".concat(25,"% - 0.75rem)"),animationDelay:"".concat(.2*t,"s"),transform:c===t?"translateY(-15px) scale(1.05)":"none"},children:[(0,r.jsx)("div",{className:"relative rounded-full overflow-hidden transition-all duration-300 \n                  ".concat(c===t?"ring-4 ring-blue-500 shadow-xl":"hover:shadow-lg hover:scale-105 hover:rotate-3 transition-transform"),onClick:e=>{e.stopPropagation(),f(t)},children:(0,r.jsx)(l.default,{src:e.image,alt:"Avatar ".concat(t+1),width:150,height:150,className:"rounded-full w-full h-auto",draggable:"false"})}),c===t&&(0,r.jsxs)("div",{className:"absolute z-30 top-full left-0 right-0 mx-auto mt-3 bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 w-full backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95 message-popup",children:[(0,r.jsx)("p",{className:"text-sm",children:e.message}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),m(null)},className:"absolute top-1 right-1 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300","aria-label":"Close message",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]},t))}),(0,r.jsx)("button",{onClick:()=>{if(!d.current)return;let e=d.current.clientWidth/4,t=Math.max(d.current.scrollLeft-4*e,0);v(d.current,t)},className:"absolute top-1/2 -left-4 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg z-10  hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300 hover:scale-110 focus:outline-none border border-gray-200 dark:border-gray-700","aria-label":"Previous avatars",disabled:0===g.start,style:{opacity:0===g.start?.5:1},children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,r.jsx)("button",{onClick:()=>{if(!d.current)return;let e=d.current.clientWidth/4,t=d.current.scrollWidth-d.current.clientWidth,a=Math.min(d.current.scrollLeft+4*e,t);v(d.current,a)},className:"absolute top-1/2 -right-4 transform -translate-y-1/2 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg z-10  hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300 hover:scale-110 focus:outline-none border border-gray-200 dark:border-gray-700","aria-label":"Next avatars",disabled:g.end>=h.length-1,style:{opacity:g.end>=h.length-1?.5:1},children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}},5889:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(5155),s=a(2115);let l=[{name:"Chinese New Year",date:(()=>{let e={2025:"2025-01-29",2026:"2026-02-17",2027:"2027-02-06",2028:"2028-01-26",2029:"2029-02-13",2030:"2030-02-03"},t=new Date().getFullYear(),a=new Date;return e[t]&&new Date(e[t])>a?e[t]:e[t+1]||"2025-01-29"})(),icon:"\uD83E\uDDE7",location:"Global",color:"from-red-50 to-yellow-50 dark:from-red-900/30 dark:to-yellow-900/30"},{name:"Christmas",date:(()=>{let e=new Date,t=e.getFullYear();return e>new Date("".concat(t,"-12-25"))?"".concat(t+1,"-12-25"):"".concat(t,"-12-25")})(),icon:"\uD83C\uDF84",location:"Global",color:"from-red-50 to-green-50 dark:from-red-900/30 dark:to-green-900/30"},{name:"Los Angeles Olympic Games",date:"2028-07-21",icon:"\uD83C\uDFC5",location:"Los Angeles, USA",color:"from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30"},{name:"Halloween",date:new Date().getMonth()>=9&&new Date().getDate()>31?"".concat(new Date().getFullYear()+1,"-10-31"):"".concat(new Date().getFullYear(),"-10-31"),icon:"\uD83C\uDF83",location:"Global",color:"from-orange-50 to-purple-50 dark:from-orange-900/30 dark:to-purple-900/30"}];function n(){let[e,t]=(0,s.useState)(0),[a,n]=(0,s.useState)({days:0,hours:0,minutes:0,seconds:0}),o=(0,s.useCallback)(()=>{let t=new Date(l[e].date),a=new Date,r=t.getTime()-a.getTime(),s=Math.floor(r/864e5),o=Math.floor(r%864e5/36e5);n({days:s,hours:o,minutes:Math.floor(r%36e5/6e4),seconds:Math.floor(r%6e4/1e3)})},[e]);return(0,s.useEffect)(()=>{o();let e=setInterval(o,1e3);return()=>clearInterval(e)},[o]),(0,r.jsxs)("div",{className:"modern-card p-6 hover:shadow-xl transition-all duration-500",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-purple-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Event Countdown"]}),(0,r.jsxs)("div",{className:"flex flex-col items-center p-6 bg-gradient-to-br ".concat(l[e].color," rounded-lg"),children:[(0,r.jsx)("div",{className:"text-5xl mb-4",children:l[e].icon}),(0,r.jsx)("h4",{className:"text-xl font-bold text-center mb-1",children:l[e].name}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:l[e].location}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2 w-full mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center bg-white/60 dark:bg-gray-800/60 py-2 px-1 rounded-lg",children:[(0,r.jsx)("span",{className:"text-2xl font-bold",children:a.days}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"DAYS"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center bg-white/60 dark:bg-gray-800/60 py-2 px-1 rounded-lg",children:[(0,r.jsx)("span",{className:"text-2xl font-bold",children:a.hours}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"HOURS"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center bg-white/60 dark:bg-gray-800/60 py-2 px-1 rounded-lg",children:[(0,r.jsx)("span",{className:"text-2xl font-bold",children:a.minutes}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"MINS"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center bg-white/60 dark:bg-gray-800/60 py-2 px-1 rounded-lg",children:[(0,r.jsx)("span",{className:"text-2xl font-bold",children:a.seconds}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"SECS"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsx)("button",{onClick:()=>{t(e=>(e-1+l.length)%l.length)},className:"bg-white/70 dark:bg-gray-800/70 hover:bg-white dark:hover:bg-gray-700 rounded-full p-2 transition-colors duration-300",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"text-sm text-center",children:[(0,r.jsx)("div",{className:"font-medium",children:"Save the Date"}),(0,r.jsx)("div",{className:"text-gray-500",children:l[e].date})]}),(0,r.jsx)("button",{onClick:()=>{t(e=>(e+1)%l.length)},className:"bg-white/70 dark:bg-gray-800/70 hover:bg-white dark:hover:bg-gray-700 rounded-full p-2 transition-colors duration-300",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-700 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]})]})}},6766:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(1469),s=a.n(r)},9073:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var r=a(5155),s=a(2115),l=a(6766);let n={name:"Kyoto",country:"Japan",description:"Kyoto is the cultural heart of Japan, with numerous ancient temples, shrines, and traditional gardens. Walk through historic streets, admire traditional architecture, taste authentic Japanese cuisine, and experience traditional tea ceremonies and geisha culture.",imageUrl:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e",coordinates:{lat:35.0116,lon:135.768},tags:["Culture","Temples","History","Food"],osmLink:"https://www.openstreetmap.org/?mlat=35.0116&mlon=135.7680&zoom=12"},o=["https://images.unsplash.com/photo-1528164344705-47542687000d","https://images.unsplash.com/photo-1532186651327-6ac23687d189","https://images.unsplash.com/photo-1501785888041-af3ef285b470","https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1","https://images.unsplash.com/photo-1530789253388-582c481c54b0"],i=()=>o[Math.floor(Math.random()*o.length)],d=e=>e&&e.startsWith("http")?e:e?e.startsWith("/")?e:"/".concat(e):i();function c(){let[e,t]=(0,s.useState)(null),[a,o]=(0,s.useState)(!0),[c,m]=(0,s.useState)(null),[g,u]=(0,s.useState)(0),[h,x]=(0,s.useState)(!1),p=async()=>{try{let e=await fetch("/api/trip-suggestion");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));return await e.json()}catch(e){throw console.error("Failed to fetch trip suggestion:",e),Error("Unable to fetch trip suggestion")}},f=async()=>{try{o(!0),m(null),x(!1);let e=await p(),a=e.name||"Unknown destination",r="Unknown location";if(a.includes(",")){let e=a.split(",");a=e[0].trim(),r=e[1].trim()}let s={name:a,country:r,description:e.description||"No description available",imageUrl:e.image||"",coordinates:{lat:80*Math.random()-40,lon:360*Math.random()-180},tags:[e.season||"All seasons","Travel","Explore"],osmLink:"https://www.openstreetmap.org/#map=12/".concat(80*Math.random()-40,"/").concat(360*Math.random()-180)};t(s),o(!1)}catch(e){console.error("Error in getNewDestination:",e),g>=2?(console.log("Using fallback destination after multiple retries"),t(n),m(null)):(m(e.message),u(e=>e+1)),o(!1)}};return((0,s.useEffect)(()=>{f()},[]),(0,s.useEffect)(()=>{c&&!e&&(console.log("Setting fallback destination due to error"),t(n))},[c,e]),a)?(0,r.jsxs)("div",{className:"modern-card p-6 hover:shadow-xl transition-all duration-500",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Trip Suggestion"]}),(0,r.jsx)("div",{className:"flex justify-center items-center h-60",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})]}):c&&!e?(0,r.jsxs)("div",{className:"modern-card p-6 hover:shadow-xl transition-all duration-500",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Trip Suggestion"]}),(0,r.jsxs)("div",{className:"flex flex-col items-center p-4 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-lg",children:[(0,r.jsxs)("p",{className:"text-red-500",children:["Error: ",c]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Please try again later"}),(0,r.jsxs)("button",{onClick:f,className:"mt-4 bg-indigo-500 hover:bg-indigo-600 text-white py-2 px-4 rounded-full text-sm font-medium flex items-center transition-colors duration-300",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Retry"]})]})]}):e?(0,r.jsxs)("div",{className:"modern-card p-6 hover:shadow-xl transition-all duration-500",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-indigo-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Trip Suggestion"]}),(0,r.jsxs)("div",{className:"flex flex-col items-center p-4 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-lg",children:[(0,r.jsxs)("div",{className:"relative h-48 w-full overflow-hidden rounded-lg mb-4",children:[e.imageUrl&&!h?(0,r.jsx)("a",{href:e.osmLink,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(l.default,{src:h?i():d(e.imageUrl),alt:"".concat(e.name," image"),fill:!0,className:"object-cover",onError:()=>{console.log("Image failed to load, using fallback image"),x(!0)},unoptimized:!0})}):(0,r.jsx)("a",{href:e.osmLink,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("div",{className:"relative w-full h-full",children:(0,r.jsx)(l.default,{src:i(),alt:"".concat(e.name," image (fallback)"),fill:!0,className:"object-cover",unoptimized:!0})})}),(0,r.jsxs)("a",{href:e.osmLink,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 bg-white/80 dark:bg-black/60 px-2 py-1 rounded text-xs font-medium hover:bg-white dark:hover:bg-black transition-colors",children:[e.coordinates.lat.toFixed(2),", ",e.coordinates.lon.toFixed(2)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-bold text-lg flex items-center justify-between",children:[(0,r.jsx)("span",{children:e.name}),(0,r.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.country})]}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm my-2 line-clamp-3",children:e.description}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((e,t)=>(0,r.jsx)("span",{className:"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-800 dark:text-indigo-200 text-xs px-2 py-1 rounded",children:e},t))})]}),(0,r.jsxs)("div",{className:"flex gap-2 w-full mt-2",children:[(0,r.jsxs)("a",{href:e.osmLink,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-full text-sm font-medium flex items-center justify-center transition-colors duration-300",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"View Map"]}),(0,r.jsxs)("button",{onClick:f,className:"flex-1 bg-indigo-500 hover:bg-indigo-600 text-white py-2 px-3 rounded-full text-sm font-medium flex items-center justify-center transition-colors duration-300",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"New Destination"]})]}),(c||h)&&(0,r.jsxs)("p",{className:"text-amber-500 text-xs mt-2 text-center",children:["Note: Using fallback ",h?"image":"data"," ",c?"(API issue: ".concat(c,")"):""]})]})]}):null}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,63,223,441,684,358],()=>t(2129)),_N_E=e.O()}]);